{"version":3,"file":"index.js","sources":["../src/lib/settings.js","../src/lib/util.js","../src/lib/texturepacker.js","../src/lib/codegenerator.js","../src/lib/packer.js","../src/lib/watcher.js","../src/index.js"],"sourcesContent":["const ora = require('ora');\nconst fs = require('fs-extra');\nconst get = require('get-value');\nconst defaults = require('object.defaults');\n\nexport async function readSettingsFrom(_file) {\n  const spinner = ora(`Reading settings from ${_file}...`).start();\n\n  let settings = {};\n\n  try {\n    const data = await fs.readJSON(_file);\n\n    settings = get(data, 'sprites', {});\n\n    settings = defaults(settings, {\n      sourceDirectory: './assets/',\n      scriptDirectory: './assets/converted/',\n      targetDirectory: './assets/converted/',\n      watch: false,\n      watchDelay: 500,\n      extrude: false,\n      includeSizeInfo: false,\n      directories: []\n    });\n\n  } catch (error) {\n    spinner.fail(`Could not load settings from ${_file}... (does it exist?)`);\n\n    return settings;\n  }\n\n  const numberOfDirectories = settings.directories.length;\n\n  if (numberOfDirectories) {\n    spinner.succeed(`Found ${numberOfDirectories} directories to process...`);\n  } else {\n    spinner.fail(`Found no directories to process...`);\n  }\n\n  return settings;\n}\n","const fs = require('fs-extra');\nconst set = require('set-value');\nconst globby = require('globby');\n\nexport function makeVariableSafe(value) {\n  return value.replace(/(\\W)/g, '_').replace(/_{2,}/g, '.').replace(/^_/, '').replace(/_$/, '');\n}\n\nexport function kebabCase(value) {\n  return value\n    .replace(/([a-z0-9])([A-Z])/g, '$1-$2')\n    .replace(/([A-Z])([A-Z])(?=[a-z])/g, '$1-$2')\n    .toLowerCase();\n}\n\nexport function getResolutionOfUrl(url, defaultValue) {\n  const resolution = /@([0-9.]+)x/.exec(url);\n\n  if (resolution) {\n    return parseFloat(resolution[1]);\n  }\n\n  return defaultValue !== undefined ? defaultValue : 1;\n}\n\nexport async function fixSpritesheetScaleMeta(jsonPath) {\n  // get all generated json\n  const paths = await globby(`${jsonPath}/*.json`);\n\n  for (const filepath of paths) {\n    // get resolution from filename\n    const resolution = getResolutionOfUrl(filepath);\n\n    // read contents of json\n    const data = await fs.readJson(filepath);\n\n    // set scale value to resolution\n    set(data, 'meta.scale', resolution);\n\n    // write contents back to file\n    await fs.writeJson(filepath, data);\n  }\n}\n\n","import { kebabCase } from './util';\nconst defaults = require('object.defaults');\n\nconst util = require('util');\nconst execProcess = util.promisify(require('child_process').exec);\n\nconst baseOptions = {\n  'format': 'pixijs4',\n  'texture-format': 'png',\n  'png-opt-level':0,\n  'opt':'RGBA8888',\n  'prepend-folder-name': true,\n  'trim-sprite-names': true,\n\n  'algorithm': 'MaxRects',\n  'maxrects-heuristics': 'Best',\n  'pack-mode': 'Best',\n  'scale-mode': 'Smooth',\n\n  'multipack': true,\n  'force-identical-layout': true,\n  'trim-mode': 'Trim',\n  'alpha-handling': 'ClearTransparentPixels',\n  'default-pivot-point': '0,0',\n  'enable-rotation': true,\n  'quiet': true,\n  'extrude': '0',\n  'shape-padding': '2',\n  'variant': ['1:@2x', '0.5:']\n};\n\nexport async function packFolder(path, options) {\n  const command = buildTexturePackerCommand(path, defaults(options, baseOptions));\n\n  try {\n    await execProcess(command);\n  } catch(error) {\n    if (error && error.stderr) {\n      throw new Error(error.stderr);\n    }\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction buildTexturePackerCommand(path, options) {\n  options = options || {};\n\n  if (options.extrude === '1') {\n    options['shape-padding'] = 0;\n  }\n\n  const command = new TexturePackerCommand();\n  command.addPath(`${path}`);\n  Object.keys(options).forEach(option => {\n    command.addOption(option, options[option]);\n  });\n\n  return command.build();\n}\n\nclass TexturePackerCommand {\n  constructor() {\n    this.commands = [];\n    this.path = '';\n  }\n\n  addPath(path) {\n    this.path = path;\n  }\n\n  addOption(option, value) {\n    this.commands.push({\n      option: `--${kebabCase(option)}`,\n      value\n    });\n  }\n\n  build() {\n    if (!this.path) {\n      throw new Error('Must specify a path to process (image/directory)');\n    }\n\n    const options = this.commands\n      .map(c => this.resolveValue(c.option, c.value))\n      .join(' ');\n\n    return `TexturePacker ${this.path} ${options}`;\n  }\n\n  resolveValue(option, value) {\n    if (Array.isArray(value)) {\n      return value.map(v => this.resolveValue(option, v)).join(' ');\n    }\n\n    if (value === true) {\n      value = '';\n    } else {\n      value = ` ${value}`\n    }\n\n    return `${option}${value}`;\n  }\n}\n","import { makeVariableSafe } from './util';\n\nconst fs = require('fs-extra');\nconst get = require('get-value');\nconst set = require('set-value');\nconst globby = require('globby');\nconst pupa = require('pupa');\nconst uppercamelcase = require('uppercamelcase');\nconst camelcase = require('camelcase');\nconst path = require('path');\n\nconst loaderInfoTemplate = `export default {\n  assets: {assetsVariable},\n  fileName : '{fileName}',\n  numberOfParts : {numberOfParts},\n  type: 'sprites'\n};`;\n\nconst assetTemplate = `export const {assetName} = {assetData};`;\n\nfunction convertPathToVariableName(filePath, basePath) {\n  // forceer string\n  filePath = `${filePath}`;\n\n  // basepath er af halen, path splitsen en opschonen\n  let parts = filePath.replace(`${basePath}/`, '').split('/').map(makeVariableSafe);\n\n  // haal laatste onderdeel er af\n  let lastPart = parts.pop();\n  lastPart = lastPart.toUpperCase();\n\n  // camelcase andere onderdelen\n  parts = parts.map(camelcase);\n\n  // haal titel elementen uit base path\n  let titleParts = basePath.split('/');\n  titleParts = titleParts.slice(titleParts.length - (titleParts.length === 1 ? 1 : 2));\n\n  // eerste part wordt onderdeel van titel\n  // if (parts.length > 0) {\n  //   titleParts.push(parts.shift());\n  // }\n\n  titleParts.push('sprites');\n  titleParts = uppercamelcase(titleParts.join('-'));\n\n  if (parts.length > 0) {\n    filePath = parts.join('.');\n    filePath = filePath.replace(/(\\W^\\.)/g, '').replace(/\\.{2,}/g, '.').replace(/^\\./, '').replace(/\\.$/, '');\n    return [titleParts, filePath, lastPart].join('.');\n  }\n  else {\n    return [titleParts, lastPart].join('.');\n  }\n}\n\n\nfunction getNumberOfParts(allDataItems) {\n  if (allDataItems.length > 0) {\n    const firstItem = allDataItems[0],\n      numberOfRelatedPacks = get(firstItem, 'meta.related_multi_packs', { default: [] }).length;\n\n    return numberOfRelatedPacks + 1;\n  }\n\n\n  return 0;\n}\n\nfunction parseAssetData(allAssetData, assetPath, includeSizeInfo) {\n\n  // bepaal base path\n  const basePath = assetPath,\n    parsedData = {};\n\n  for (const assetData of allAssetData || []) {\n    for (const framePath of Object.keys(assetData.frames)) {\n      let assetInfo;\n      if (includeSizeInfo) {\n        // haal frame info op\n        const frameInfo = assetData.frames[framePath];\n        assetInfo = {\n          id: framePath,\n          width: frameInfo.sourceSize.w,\n          height: frameInfo.sourceSize.h,\n        };\n      } else {\n        assetInfo = framePath\n      }\n\n      // haal frame info op\n      set(parsedData, convertPathToVariableName(framePath, basePath), assetInfo);\n    }\n  }\n\n  return parsedData;\n}\n\nfunction getSortedItems(_itemsData) {\n  const itemsSortable = [];\n\n  for (const assetName of Object.keys(_itemsData)) {\n    if (_itemsData.hasOwnProperty(assetName)) {\n      itemsSortable.push([assetName, _itemsData[assetName]]);\n    }\n  }\n\n  itemsSortable.sort((a, b) => {\n    const x = a[0],\n      y = b[0];\n\n    return x < y ? -1 : (x > y ? 1 : 0);\n  });\n\n  const items = {};\n  for (const item of itemsSortable) {\n    items[item[0]] = item[1];\n  }\n\n  return items;\n}\n\nfunction generateContents(parsedAssetData, loaderData) {\n  let contents = '';\n\n  const assetName = Object.keys(parsedAssetData)[0];\n  const items = getSortedItems(parsedAssetData[assetName]);\n\n  let itemsContent = JSON.stringify(items, null, 2);\n  itemsContent = itemsContent.replace(/\"([^(\")\"]+)\":/g, \"$1:\");\n\n  contents = `${contents}${pupa(assetTemplate, {\n    assetName: assetName,\n    assetData: itemsContent\n  })}\\n`;\n\n  // loader\n  contents = `${contents}${pupa(loaderInfoTemplate, {\n    assetsVariable: assetName,\n    fileName: loaderData.fileName,\n    numberOfParts: loaderData.numberOfParts\n  })}\\n`;\n\n  return contents;\n}\n\nfunction getScriptPath(assetPath, scriptDirectory) {\n  const assetParts = assetPath.split('/'),\n    assetName = assetParts.pop();\n\n  if (assetParts.length < 2) {\n    assetParts.push(assetName);\n  }\n\n  assetPath = assetParts.join('/');\n\n  return `${path.join(scriptDirectory, assetPath)}/assets/sprites-${assetName}.ts`;\n}\n\n\nexport async function generateCode(assetPath, settings, itemOptions) {\n  const scriptDirectory = get(itemOptions, 'scriptDirectory', settings.scriptDirectory),\n    includeSizeInfo = get(itemOptions, 'includeSizeInfo', settings.includeSizeInfo);\n\n  // read all generated json\n  const paths = await globby(`${path.join(settings.targetDirectory, assetPath)}/*[1-9]+.json`),\n    actions = [];\n\n  for (const filepath of paths) {\n    actions.push(await fs.readJson(filepath));\n  }\n\n\n  // parse data to object\n  const allAssetData = await Promise.all(actions),\n    parsedAssetData = parseAssetData(allAssetData, assetPath, includeSizeInfo),\n    loaderInfo = {\n      fileName: assetPath,\n      numberOfParts: getNumberOfParts(allAssetData)\n    }\n\n  const contents = generateContents(parsedAssetData, loaderInfo),\n    scriptpath = getScriptPath(assetPath, scriptDirectory);\n\n  await fs.outputFile(scriptpath, contents);\n}\n","const ora = require('ora');\nconst logSymbols = require('log-symbols');\nconst chalk = require('chalk');\nconst path = require('path');\nconst get = require('get-value');\n\nimport { packFolder } from './texturepacker';\nimport { generateCode } from './codegenerator';\nimport { fixSpritesheetScaleMeta } from './util';\n\nconst isPacking = {},\n  shouldPackAgain = {};\n\nexport async function packAll(directories, settings) {\n  console.log(logSymbols.info, chalk.blue(`Start packing all items...`));\n\n  for (const directory of directories) {\n    await pack(directory, settings);\n  }\n\n  console.log(logSymbols.success, chalk.green(`Done packing all items...`));\n}\n\nexport async function pack(directory, settings) {\n  let itemPath, itemOptions;\n\n  if (Array.isArray(directory)) {\n    itemPath = directory[0];\n    itemOptions = directory[1];\n  } else {\n    itemPath = directory;\n  }\n\n  const itemPathParts = itemPath.split('/'),\n    directoryName = itemPathParts.pop();\n\n  if (isPacking[itemPath]) {\n    console.log(logSymbols.warning, chalk.yellow(`Allready packing, starting again afterwards...`));\n    shouldPackAgain[itemPath] = true;\n    return;\n  }\n\n  isPacking[itemPath] = true;\n\n  const options = {\n    'sheet': `${path.join(settings.targetDirectory, itemPath, directoryName)}-{n1}{v}.png`,\n    'data': `${path.join(settings.targetDirectory, itemPath, directoryName)}-{n1}{v}.json`,\n    'replace': `${directoryName}=${itemPath}`,\n    'extrude': get(itemOptions, 'extrude', settings.extrude) ? '1' : '0'\n  }\n\n  const spinner = ora(`Packing ${itemPath}`).start();\n\n  try {\n    const success = await packFolder(`${path.join(settings.sourceDirectory, itemPath)}`, options);\n\n    if (!success) {\n      spinner.fail(`Error packing ${itemPath}`);\n\n      return;\n    }\n  } catch (error) {\n    spinner.fail(`Error packing ${itemPath}`);\n    console.error(logSymbols.warning, error.message);\n\n    return;\n  }\n\n  await fixSpritesheetScaleMeta(`${path.join(settings.targetDirectory, itemPath)}`);\n\n  await generateCode(itemPath, settings, itemOptions);\n\n  isPacking[itemPath] = false;\n\n  if (shouldPackAgain[itemPath]) {\n    shouldPackAgain[itemPath] = false;\n    spinner.warn(`Needs repacking, something changed while packing...`);\n    await pack(directory, settings);\n  } else {\n    spinner.succeed(`Done packing ${itemPath}`);\n  }\n}\n","import { pack } from './packer';\n\nconst sane = require('sane');\nconst logSymbols = require('log-symbols');\nconst chalk = require('chalk');\nconst { debounce } = require('throttle-debounce');\nconst path = require('path');\n\nexport async function watch(directories, settings) {\n  for (const directory of directories) {\n    await watchDirectory(directory, settings);\n  }\n}\n\nasync function watchDirectory(directory, settings) {\n  return new Promise((_resolver) => {\n\n    let itemPath, itemOptions = {};\n\n    if (Array.isArray(directory)) {\n      itemPath = directory[0];\n      itemOptions = directory[1];\n    } else {\n      itemPath = directory;\n    }\n\n    if ((settings.watch !== true && itemOptions.watch !== true) || itemOptions.watch === false) {\n       _resolver();\n       return;\n    }\n\n    const delayedCallback = debounce(settings.watchDelay, () => {\n      pack(directory, settings);\n    });\n    const watcher = sane(`${path.join(settings.sourceDirectory, itemPath)}`, {\n      glob: ['**/*.png', '**/*.jpg']\n    });\n\n    watcher.on('ready', () => {\n      console.log(logSymbols.info, chalk.blue(`Started watching ${itemPath} with a delay of ${settings.watchDelay / 1000}s`));\n      _resolver()\n    });\n    watcher.on('change', delayedCallback);\n    watcher.on('add', delayedCallback);\n    watcher.on('delete', delayedCallback);\n  });\n}\n","import { readSettingsFrom } from './lib/settings';\nimport { watch } from './lib/watcher';\nimport { packAll } from './lib/packer';\n\nconst AssetFile = 'assets.json';\n\nasync function main(_file) {\n  const settings = await readSettingsFrom(_file),\n    directories = settings.directories;\n\n  delete settings.directories;\n\n  if (!settings || !directories) {\n    return;\n  }\n\n  await packAll(directories, settings);\n\n  await watch(directories, settings);\n}\n\nexport function pack(_file) {\n  main(_file || AssetFile);\n}\n"],"names":["fs","defaults","get","set","globby","ora","path","logSymbols","chalk","pack"],"mappings":"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"}